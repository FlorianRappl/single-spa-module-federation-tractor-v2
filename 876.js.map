{"version":3,"file":"876.js","sources":["webpack://app/./src/useHistory.js","webpack://app/./src/App.jsx","webpack://app/./src/Router.jsx","webpack://app/./src/bootstrap.jsx","webpack://app/./src/remotes.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nfunction modifyHistory(type) {\n  const orig = history[type];\n  return function (...args) {\n    const rv = orig.apply(this, args);\n    const ev = new Event(type.toLowerCase());\n    window.dispatchEvent(ev);\n    return rv;\n  };\n}\n\nfunction navigate(route, state) {\n  history.pushState(state, \"\", route);\n}\n\nfunction scrollToTop() {\n  window.scrollTo(0, 0);\n}\n\nfunction onClick(e) {\n  let link = e.target instanceof Element && e.target.closest(\"a\");\n\n  if (\n    link &&\n    link instanceof HTMLAnchorElement &&\n    link.href &&\n    (!link.target || link.target === \"_self\") &&\n    link.origin === location.origin &&\n    !link.hasAttribute(\"download\") &&\n    e.button === 0 && // left clicks only\n    !e.metaKey && // open in new tab (mac)\n    !e.ctrlKey && // open in new tab (windows)\n    !e.altKey && // download\n    !e.shiftKey &&\n    !e.defaultPrevented\n  ) {\n    e.preventDefault();\n    navigate(link.href, {});\n  }\n}\n\nhistory.pushState = modifyHistory(\"pushState\");\nhistory.replaceState = modifyHistory(\"replaceState\");\n\nexport function useHistory() {\n  const [url, setUrl] = useState(location.pathname);\n\n  useEffect(() => {\n    function onHistory() {\n      scrollToTop();\n      setUrl(location.pathname);\n    }\n\n    window.addEventListener(\"popstate\", onHistory);\n    window.addEventListener(\"pushstate\", onHistory);\n    window.addEventListener(\"replacestate\", onHistory);\n    document.addEventListener(\"click\", onClick);\n\n    return () => {\n      window.removeEventListener(\"popstate\", onHistory);\n      window.removeEventListener(\"pushstate\", onHistory);\n      window.removeEventListener(\"replacestate\", onHistory);\n      document.removeEventListener(\"click\", onClick);\n    };\n  }, []);\n\n  return url;\n}\n","import React from \"react\";\nimport Router from \"./Router\";\n\nconst Loading = () => (\n  <div className=\"loader-frame\">\n    <span className=\"loader\" />\n  </div>\n);\n\nconst App = () => {\n  return (\n    <React.Suspense fallback={<Loading />}>\n      <Router />\n    </React.Suspense>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport { useHistory } from \"./useHistory\";\n\nconst HomePage = window.getComponent(\"explore/HomePage\");\nconst StoresPage = window.getComponent(\"explore/StoresPage\");\nconst CategoryPage = window.getComponent(\"explore/CategoryPage\");\nconst CartPage = window.getComponent(\"checkout/CartPage\");\nconst Checkout = window.getComponent(\"checkout/Checkout\");\nconst Thanks = window.getComponent(\"checkout/Thanks\");\nconst ProductPage = window.getComponent(\"decide/ProductPage\");\n\nconst Router = () => {\n  const path = useHistory();\n\n  switch (path) {\n    case \"/\":\n      return <HomePage />;\n    case \"/stores\":\n      return <StoresPage />;\n    case \"/checkout/cart\":\n      return <CartPage />;\n    case \"/checkout/checkout\":\n      return <Checkout />;\n    case \"/checkout/thanks\":\n      return <Thanks />;\n    case \"/products\":\n      return <CategoryPage />;\n  }\n\n  if (path.startsWith(\"/product/\")) {\n    const id = path.split(\"/\")[2];\n    return <ProductPage id={id} />;\n  } else if (path.startsWith(\"/products/\")) {\n    const category = path.split(\"/\")[2];\n    return <CategoryPage category={category} />;\n  }\n\n  return null;\n};\n\nexport default Router;\n","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { start } from \"single-spa\";\nimport './remotes';\nimport App from \"./App\";\n\nconst root = createRoot(document.querySelector(\"#app\"));\nroot.render(<App />);\n\nstart();\n","import * as React from \"react\";\nimport Parcel from \"single-spa-react/parcel\";\nimport { mountRootParcel } from \"single-spa\";\nimport {\n  registerRemotes,\n  loadRemote,\n} from \"@module-federation/enhanced/runtime\";\n\nregisterRemotes([\n  {\n    entry: process.env.DECIDE_URL,\n    name: \"decide\",\n    type: \"module\",\n  },\n  {\n    entry: process.env.CHECKOUT_URL,\n    name: \"checkout\",\n    type: \"global\",\n  },\n  {\n    entry: process.env.EXPLORE_URL,\n    name: \"explore\",\n    type: \"global\",\n  },\n]);\n\nwindow.fromReact = (loadLifecycle, mountParcel) =>\n  React.lazy(() =>\n    loadLifecycle().then(({ default: config }) => ({\n      default: (props) => (\n        <Parcel mountParcel={mountParcel} config={config} {...props} />\n      ),\n    }))\n  );\n\nwindow.getComponent = (id, converter = window.fromReact) =>\n  converter(() => loadRemote(id), mountRootParcel);\n"],"names":["modifyHistory","type","orig","history","args","rv","apply","ev","Event","toLowerCase","window","dispatchEvent","onClick","e","link","target","Element","closest","HTMLAnchorElement","href","origin","location","hasAttribute","button","metaKey","ctrlKey","altKey","shiftKey","defaultPrevented","route","state","preventDefault","pushState","useHistory","url","setUrl","useState","pathname","useEffect","onHistory","scrollTo","addEventListener","document","removeEventListener","replaceState","Loading","className","React","fallback","Router","HomePage","getComponent","StoresPage","CategoryPage","CartPage","Checkout","Thanks","ProductPage","path","startsWith","id","split","category","root","createRoot","querySelector","render","App","start","registerRemotes","entry","process","name","fromReact","loadLifecycle","mountParcel","then","config","default","props","Parcel","converter","loadRemote","mountRootParcel"],"mappings":"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"}